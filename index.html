<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>K. Leena Travels Bill</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="bill-container" id="bill">
  <div class="header">
    <div class="logo">K</div>
    <div class="company-info">
      <h1>K. LEENA TRAVELS</h1>
      <p>#1-10-233/2, Brahmanwadi, Begumpet, Hyderabad-500016</p>
      <p>9649115838, 9400519838</p>
    </div>
    <div class="qr-code"></div>
  </div>

  <div class="bill-details">
    <div class="row">
      <label>Bill No.:</label> <input type="text" id="bill-no" value="10799">
      <label>Date:</label> <input type="date" id="bill-date">
    </div>
    <div class="row">
      <label>MS:</label> <input type="text">
    </div>
  </div>

  <h2>Journey Details</h2>
  <div class="journey-details">
    <div class="row">
      <label>Passenger Name:</label> <input type="text">
      <label>SLAB:</label> <input type="text">
    </div>
    <div class="row">
      <label>Place & Tour:</label> <input type="text">
      <label>Vehicle No.:</label> <input type="text">
    </div>
    <div class="row">
      <label>Driver's Name:</label> <input type="text">
    </div>
    <table>
      <thead>
        <tr>
          <th></th><th>Starting</th><th>End</th><th>Total</th><th>Extra</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Date</td>
          <td><input type="date"></td>
          <td><input type="date"></td>
          <td><input type="text" readonly></td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>Time</td>
          <td><input type="time" class="time-start"></td>
          <td><input type="time" class="time-end"></td>
          <td><input type="text" class="time-total" readonly></td>
          <td><input type="text"></td>
        </tr>
        <tr>
          <td>Km's</td>
          <td><input type="number" class="km-start"></td>
          <td><input type="number" class="km-end"></td>
          <td><input type="text" class="km-total" readonly></td>
          <td><input type="text"></td>
        </tr><tr>
  <td>Time</td>
  <td><input type="time" class="time-start"></td>
  <td><input type="time" class="time-end"></td>
  <td><input type="text" class="time-total" readonly></td>
  <td><input type="text"></td>
</tr>
<tr>
  <td>Km's</td>
  <td><input type="number" class="km-start"></td>
  <td><input type="number" class="km-end"></td>
  <td><input type="text" class="km-total" readonly></td>
  <td><input type="text"></td>
        </tr>
        
      </tbody>
    </table>
  </div>

  <h2>Fare Details</h2>
  <table class="fare-details">
    <thead>
      <tr><th>Description</th><th>Total Rs.</th><th>Ps.</th></tr>
    </thead>
    <tbody>
      <tr><td>Base Price</td><td><input type="number" class="fare-input"></td><td></td></tr>
      <tr><td>Extra Time</td><td><input type="number" class="fare-input"></td><td></td></tr>
      <tr><td>Extra Km's</td><td><input type="number" class="fare-input"></td><td></td></tr>
      <tr><td>Toll & Parking</td><td><input type="number" class="fare-input"></td><td></td></tr>
      <tr><td>Driver Bhatta</td><td><input type="number" class="fare-input"></td><td></td></tr>
      <tr><td>Rounding Off</td><td><input type="number" class="fare-input"></td><td></td></tr>
    </tbody>
    <tfoot>
      <tr>
        <td>GRAND TOTAL:</td>
        <td colspan="2"><input type="text" id="grand-total" readonly></td>
      </tr>
    </tfoot>
  </table>

  <div class="signature-section">
    <p>Rupees: <span id="rupees-text"></span></p>
    <p>For K. LEENA TRAVELS</p>
    <p>For: <input type="text"></p>
    <p>Manager</p>
  </div>
</div>

<div class="actions">
  <button onclick="savePDF()">Save & Share</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="script.js"></script><script>
function calcKm() {
  const start = parseFloat(document.querySelector('.km-start').value) || 0;
  const end   = parseFloat(document.querySelector('.km-end').value) || 0;
  const total = end - start;
  document.querySelector('.km-total').value = total > 0 ? total : '';
}

function calcTime() {
  const s = document.querySelector('.time-start').value;
  const e = document.querySelector('.time-end').value;
  if (s && e) {
    const [sh, sm] = s.split(':').map(Number);
    const [eh, em] = e.split(':').map(Number);
    let diff = (eh * 60 + em) - (sh * 60 + sm);
    if (diff < 0) diff += 24 * 60; // handle overnight trips
    const hours = Math.floor(diff / 60);
    const mins  = diff % 60;
    document.querySelector('.time-total').value =
      `${hours}h ${mins}m`;
  } else {
    document.querySelector('.time-total').value = '';
  }
}

// attach listeners after DOM loads
document.addEventListener('DOMContentLoaded', () => {
  ['.km-start', '.km-end'].forEach(sel =>
    document.querySelector(sel).addEventListener('input', calcKm)
  );
  ['.time-start', '.time-end'].forEach(sel =>
    document.querySelector(sel).addEventListener('input', calcTime)
  );
});
</script>
</body>
  </html>
  
